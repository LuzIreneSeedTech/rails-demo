import e from"process";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var n={};var r=e;var o="pending";var i="settled";var a="fulfilled";var s="rejected";var NOOP=function(){};var c="undefined"!==typeof t&&"undefined"!==typeof t.process&&"function"===typeof t.process.emit;var l="undefined"===typeof r.nextTick?setTimeout:r.nextTick;var f=[];var u;function asyncFlush(){for(var e=0;e<f.length;e++)f[e][0](f[e][1]);f=[];u=false}function asyncCall(e,t){f.push([e,t]);if(!u){u=true;l(asyncFlush,0)}}function invokeResolver(e,t){function resolvePromise(e){resolve(t,e)}function rejectPromise(e){reject(t,e)}try{e(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(e){var t=e.owner;var n=t._state;var r=t._data;var o=e[n];var i=e.then;if("function"===typeof o){n=a;try{r=o(r)}catch(e){reject(i,e)}}if(!handleThenable(i,r)){n===a&&resolve(i,r);n===s&&reject(i,r)}}function handleThenable(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===typeof t)){var r=t.then;if("function"===typeof r){r.call(t,(function(r){if(!n){n=true;t===r?fulfill(e,r):resolve(e,r)}}),(function(t){if(!n){n=true;reject(e,t)}}));return true}}}catch(t){n||reject(e,t);return true}return false}function resolve(e,t){e!==t&&handleThenable(e,t)||fulfill(e,t)}function fulfill(e,t){if(e._state===o){e._state=i;e._data=t;asyncCall(publishFulfillment,e)}}function reject(e,t){if(e._state===o){e._state=i;e._data=t;asyncCall(publishRejection,e)}}function publish(e){e._then=e._then.forEach(invokeCallback)}function publishFulfillment(e){e._state=a;publish(e)}function publishRejection(e){e._state=s;publish(e);!e._handled&&c&&t.process.emit("unhandledRejection",e._data,e)}function notifyRejectionHandled(e){t.process.emit("rejectionHandled",e)}function Promise(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Promise===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];invokeResolver(e,this)}Promise.prototype={constructor:Promise,_state:o,_then:null,_data:void 0,_handled:false,then:function(e,t){var n={owner:this,then:new this.constructor(NOOP),fulfilled:e,rejected:t};if((t||e)&&!this._handled){this._handled=true;this._state===s&&c&&asyncCall(notifyRejectionHandled,this)}this._state===a||this._state===s?asyncCall(invokeCallback,n):this._then.push(n);return n.then},catch:function(e){return this.then(null,e)}};Promise.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Promise((function(t,n){var r=[];var o=0;function resolver(e){o++;return function(n){r[e]=n;--o||t(r)}}for(var i=0,a;i<e.length;i++){a=e[i];a&&"function"===typeof a.then?a.then(resolver(i),n):r[i]=a}o||t(r)}))};Promise.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Promise((function(t,n){for(var r=0,o;r<e.length;r++){o=e[r];o&&"function"===typeof o.then?o.then(t,n):t(o)}}))};Promise.resolve=function(e){return e&&"object"===typeof e&&e.constructor===Promise?e:new Promise((function(t){t(e)}))};Promise.reject=function(e){return new Promise((function(t,n){n(e)}))};n=Promise;var h=n;export default h;

